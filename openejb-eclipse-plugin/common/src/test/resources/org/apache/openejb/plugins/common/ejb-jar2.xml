<?xml version="1.0" encoding="UTF-8"?>
<!--

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

-->
<ejb-jar  xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd" version="2.1">

   <description><![CDATA[No Description.]]></description>
   <display-name>Generated by XDoclet</display-name>

   <enterprise-beans>

      <!-- Session Beans -->
      <session >
         <description><![CDATA[An EJB named AddressBook]]></description>
         <display-name>AddressBook</display-name>

         <ejb-name>AddressBook</ejb-name>

         <home>org.superbiz.AddressBookHome</home>
         <remote>org.superbiz.AddressBook</remote>
         <local-home>org.superbiz.AddressBookLocalHome</local-home>
         <local>org.superbiz.AddressBookLocal</local>
         <ejb-class>org.superbiz.AddressBookBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>

         <ejb-local-ref >
            <ejb-ref-name>ejb/Person</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>org.superbiz.PersonLocalHome</local-home>
            <local>org.superbiz.PersonLocal</local>
            <ejb-link>Person</ejb-link>
         </ejb-local-ref>
         <ejb-local-ref >
            <ejb-ref-name>ejb/Contact</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>org.superbiz.ContactLocalHome</local-home>
            <local>org.superbiz.ContactLocal</local>
            <ejb-link>Contact</ejb-link>
         </ejb-local-ref>

      </session>

     <!--
       To add session beans that you have deployment descriptor info for, add
       a file to your XDoclet merge directory called session-beans.xml that contains
       the <session></session> markup for those beans.
     -->

      <!-- Entity Beans -->
      <entity >
         <description><![CDATA[]]></description>

         <ejb-name>Person</ejb-name>

         <local-home>org.superbiz.PersonLocalHome</local-home>
         <local>org.superbiz.PersonLocal</local>

         <ejb-class>org.superbiz.PersonCMP</ejb-class>
         <persistence-type>Container</persistence-type>
         <prim-key-class>java.lang.Long</prim-key-class>
         <reentrant>false</reentrant>
         <cmp-version>2.x</cmp-version>
         <abstract-schema-name>Person</abstract-schema-name>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>personId</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>firstname</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>surname</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>address1</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>address2</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>address3</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>address4</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>postcode</field-name>
         </cmp-field>
         <primkey-field>personId</primkey-field>

         <query>
            <query-method>
               <method-name>findAll</method-name>
               <method-params>
               </method-params>
            </query-method>
            <ejb-ql><![CDATA[SELECT OBJECT(p) FROM Person p]]></ejb-ql>
         </query>
	  <!-- Write a file named ejb-finders-PersonBean.xml if you want to define extra finders. -->

      </entity>

      <entity >
         <description><![CDATA[]]></description>

         <ejb-name>Contact</ejb-name>

         <local-home>org.superbiz.ContactLocalHome</local-home>
         <local>org.superbiz.ContactLocal</local>

         <ejb-class>org.superbiz.ContactCMP</ejb-class>
         <persistence-type>Container</persistence-type>
         <prim-key-class>java.lang.Long</prim-key-class>
         <reentrant>false</reentrant>
         <cmp-version>2.x</cmp-version>
         <abstract-schema-name>Contact</abstract-schema-name>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>contactId</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>person</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>type</field-name>
         </cmp-field>
         <cmp-field >
            <description><![CDATA[]]></description>
            <field-name>detail</field-name>
         </cmp-field>
         <primkey-field>contactId</primkey-field>

	  <!-- Write a file named ejb-finders-ContactBean.xml if you want to define extra finders. -->

      </entity>

     <!--
       To add entity beans that you have deployment descriptor info for, add
       a file to your XDoclet merge directory called entity-beans.xml that contains
       the <entity></entity> markup for those beans.
     -->

      <!-- Message Driven Beans -->
     <!--
       To add message driven beans that you have deployment descriptor info for, add
       a file to your XDoclet merge directory called message-driven-beans.xml that contains
       the <message-driven></message-driven> markup for those beans.
     -->

   </enterprise-beans>

   <!-- Relationships -->
   <relationships >
      <ejb-relation >
         <ejb-relation-name>Person-Contact</ejb-relation-name>

         <ejb-relationship-role >
            <ejb-relationship-role-name>Contact-to-Person</ejb-relationship-role-name>
            <multiplicity>Many</multiplicity>
            <relationship-role-source >
               <ejb-name>Contact</ejb-name>
            </relationship-role-source>
            <cmr-field >
               <cmr-field-name>person</cmr-field-name>
            </cmr-field>
         </ejb-relationship-role>

         <ejb-relationship-role >
            <ejb-relationship-role-name>Person-to-Contact</ejb-relationship-role-name>
            <multiplicity>One</multiplicity>
            <relationship-role-source >
               <ejb-name>Person</ejb-name>
            </relationship-role-source>
            <cmr-field >
               <cmr-field-name>contacts</cmr-field-name>
               <cmr-field-type>java.util.Collection</cmr-field-type>
            </cmr-field>
         </ejb-relationship-role>

      </ejb-relation>
        <!-- 
          To add relationships for beans not managed by XDoclet, add
          a file to your XDoclet merge directory called relationships.xml that contains
          the <ejb-relation></ejb-relation> markups for those beans.
        --> 
   </relationships>

   <!-- Assembly Descriptor -->
     <!--
       To specify your own assembly descriptor info here, add a file to your
       XDoclet merge directory called assembly-descriptor.xml that contains
       the <assembly-descriptor></assembly-descriptor> markup.
     -->

   <assembly-descriptor >
     <!--
       To specify additional security-role elements, add a file in the merge
       directory called ejb-security-roles.xml that contains them.
     -->

   <!-- method permissions -->
     <!--
       To specify additional method-permission elements, add a file in the merge
       directory called ejb-method-permissions.ent that contains them.
     -->

   <!-- transactions -->
     <!--
       To specify additional container-transaction elements, add a file in the merge
       directory called ejb-container-transactions.ent that contains them.
     -->

   <!-- finder transactions -->

   <!-- message destinations -->
     <!--
       To specify additional message-destination elements, add a file in the merge
       directory called ejb-message-destinations.ent that contains them.
     -->

   <!-- exclude list -->
     <!--
       To specify an exclude-list element, add a file in the merge directory
       called ejb-exclude-list.xml that contains it.
     -->
   </assembly-descriptor>

</ejb-jar>
